syntax = "proto3";

package proto;

// Plugin ...
message Plugin {
  // Meta ...
  message Meta {
    // name ...
    string name       = 1;
    // identifier ...
    string identifier = 2;
    // version ...
    string version    = 3;
    // path ...
    string path       = 4;
  }

  // meta ...
  Meta meta   = 1;
}

// Event ...
message Event {
  // Plugin ...
  Plugin plugin = 1;

  oneof event {
    MessageEvent  message = 10;
    MessageEvent  reply   = 11;
  }
}

// MessageEvent ...
message MessageEvent {
  string text       = 1;
  string channel    = 2;
  string user       = 3;

  string username   = 10;

  string topic      = 20;
}

// PluginError
//
// These are standard error codes.
message PluginError {
  // Errors to occur in the communication
  enum Code {
    UNKNOWN = 0;
  }

  Code code = 1;
  string message = 2;
}
